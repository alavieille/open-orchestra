---
- name: Check firefox exist
  stat: path=/opt/{{firefox_name}}
  register: package

- name: Download firefox if not installed
  get_url: url={{firefox_url}} dest={{cur_dir}}
  when: package.stat.exists == False

- name: Unarchive firefox
  shell: tar -xjvf {{cur_dir}}/{{firefox_package}}
  when: package.stat.exists == False

- name: Move firefox
  shell: mv firefox /opt/{{firefox_name}}
  when: package.stat.exists == False

- name: Firefox symbolic link
  file: src=/opt/{{firefox_name}}/firefox dest=/usr/bin/firefox state=link
  when: package.stat.exists == False
