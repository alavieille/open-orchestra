services:

#--[STANDARD SERVICES]----------#

    # Cache service
    phporchestra_cms.cachemanager:
        class: PHPOrchestra\CMSBundle\Classes\CacheManager
        arguments: [@snc_redis.default]

#--[TWIG EXTENSIONS]-------------#

    phporchestra_cms.twig.phporchestra_extension:
        class: PHPOrchestra\CMSBundle\Twig\PHPOrchestraExtension
        arguments: [@service_container]
        tags:
            - { name: twig.extension }

    phporchestra_cms.event.listener.assetpackage:
        class: PHPOrchestra\CMSBundle\Event\Listener\HttpKernel\AssetPackageInjector
        tags:
            - { name: kernel.event_listener, event: kernel.request, method: onKernelRequest }

#--[FORM FIELDS]----------------#

    # Areas form field type
    php_orchestra_cms.type.areas:
        class: PHPOrchestra\CMSBundle\Form\Type\AreasType
        tags:
            - { name: form.type, alias: orchestra_areas }

    # Blocks form field type
    php_orchestra_cms.type.blocks:
        class: PHPOrchestra\CMSBundle\Form\Type\BlocksType
        arguments: [@mandango]
        tags:
            - { name: form.type, alias: orchestra_blocks }

    # Templates select form field type
    php_orchestra_cms.type.template_choice:
        class: PHPOrchestra\CMSBundle\Form\Type\TemplateChoiceType
        arguments: [@mandango]
        tags:
            - { name: form.type, alias: orchestra_template_choice }

    # Nodes select form field type
    php_orchestra_cms.type.node_choice:
        class: PHPOrchestra\CMSBundle\Form\Type\NodeChoiceType
        arguments: [@mandango]
        tags:
            - { name: form.type, alias: orchestra_node_choice }

    # Status form field type
    php_orchestra_cms.type.status:
        class: PHPOrchestra\CMSBundle\Form\Type\StatusType
        arguments: 
            - "%php_orchestra.orchestra_choice.status%"
        tags:
            - { name: form.type, alias: orchestra_status }

    # Language form field type
    php_orchestra_cms.type.language:
        class: PHPOrchestra\CMSBundle\Form\Type\LanguageType
        arguments: 
            - "%php_orchestra.orchestra_choice.language%"
        tags:
            - { name: form.type, alias: orchestra_language }

    # Direction form field type
    php_orchestra_cms.type.direction:
        class: PHPOrchestra\CMSBundle\Form\Type\DirectionType
        arguments: 
            - "%php_orchestra.orchestra_choice.direction%"
        tags:
            - { name: form.type, alias: orchestra_direction }

#--[FORM]-----------------------#

    # Template form type
    php_orchestra_cms.type.template:
        class: PHPOrchestra\CMSBundle\Form\Type\TemplateType
        arguments: [@router, %php_orchestra.blocks%]
        tags:
            - { name: form.type, alias: template}

    # Node form type
    php_orchestra_cms.type.node:
        class: PHPOrchestra\CMSBundle\Form\Type\NodeType
        arguments: [@router, %php_orchestra.blocks%]
        tags:
            - { name: form.type, alias: node}
