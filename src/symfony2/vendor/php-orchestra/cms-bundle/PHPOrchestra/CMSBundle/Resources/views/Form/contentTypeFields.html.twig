{##
 # This file is part of the PHPOrchestra\CMSBundle.
 #
 # @author NoÃ«l GILAIN <noel.gilain@businessdecision.com>
 ##}

{% block contentTypeFields_widget %}
    {% for key, value in form %}
        {% if key starts with 'customField' %}
            {{ form_widget(form[key]) }}
      {% endif %}
    {% endfor %}
{% endblock %}

{% block orchestra_customField_widget %}
<fieldset>
    <legend>
        {% if form.vars.value.fieldId != '' %}
            Champ "{{ form.vars.value.fieldId }}"
        {% else %}
            Nouveau champ
        {% endif %}
        [{{ form.vars.value.type }}]
    </legend>
    {{ form_row(form.removeField) }}
    {{ form_row(form.symfonyType) }}
    {{ form_row(form.fieldId) }}
    {{ form_widget(form.label) }}
    {{ form_row(form.defaultValue) }}
    {{ form_row(form.searchable) }}
    {% for key, value in form %}
        {% if key starts with 'option' %}
            {{ form_row(form[key]) }}
        {% endif %}
    {% endfor %}
</fieldset>
{% endblock %}

{% block multilingualText_widget %}
    {% for key, value in form %}
        {% if key starts with 'language' %}
            {% set language = key|replace({'language_':''}) %}
            {% set flagPath = asset('bundles/phporchestracms/img/flags/' ~ language ~ '.png') %}
            {% set flagTag = '<img alt="' ~ language ~ ' flag" src="' ~ flagPath ~ '"> ' %}
            {{ form_row(
                form[key],
                {'label' : 'Label du type de contenu (' ~ flagTag ~ language|upper ~ ')' | raw}
            ) }}
      {% endif %}
    {% endfor %}
{% endblock %}

{% block text_label %}
    {{ label | raw }}
{% endblock %}
